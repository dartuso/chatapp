{"version":3,"sources":["Components/Input.js","Components/Message.js","Components/MessageDisplay.js","Components/OnlineUsers.js","App.js","reportWebVitals.js","index.js"],"names":["Input","setMessage","sendMessage","message","className","type","placeholder","value","onKeyPress","event","key","onChange","target","onClick","Message","name","text","color","date","useCookies","sentByUser","nickname","style","fontWeight","MessageDisplay","messages","messagesEndRef","users","useRef","useEffect","current","scrollIntoView","behavior","map","id","ref","OnlineUsers","socket","io","transports","App","useState","setUsers","setMessages","cookies","setCookie","emit","off","on","username","user","preventDefault","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.08b12818.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"./Input.css\"\r\n\r\nexport default function Input({setMessage, sendMessage, message}) {\r\n\r\n    return (\r\n        <form className=\"formBox\">\r\n            <input className=\"inputBox\" type=\"text\" placeholder=\"Type here to chat\" value={message}\r\n                   onKeyPress={event => event.key === 'Enter' ? sendMessage(event) : null}\r\n                   onChange={({target: {value}}) => setMessage(value)}\r\n            />\r\n            <button className=\"sendButton\" onClick={event => sendMessage(event)}>SEND</button>\r\n        </form>\r\n    );\r\n}","import React from \"react\";\r\nimport {useCookies} from \"react-cookie\";\r\nimport \"./Message.css\"\r\n\r\nconst Message = ({name, text, color, date}) => {\r\n    const [cookies] = useCookies([\"nickname\"]);\r\n\r\n    let sentByUser = false;\r\n    if (name === cookies.nickname) {\r\n        sentByUser = true;\r\n    }\r\n    if (typeof (name) !== \"string\") {\r\n        name = \"ERROR\"\r\n    }\r\n    if (typeof (text) !== \"string\") {\r\n        text = \"ERROR\"\r\n    }\r\n    if (typeof (date) !== \"string\") {\r\n        date = \"ERROR\"\r\n    }\r\n\r\n    return (\r\n        <div className=\"message\">\r\n            <div className=\"time\">\r\n                {date}\r\n            </div>\r\n            <div className=\"user\" style={{color: color}}>\r\n                {name + \":\"}\r\n            </div>\r\n            <div className=\"text\" style={sentByUser ? {fontWeight: 'bold'} : {fontWeight: 'normal'}}>\r\n                {text}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Message;","import React, {useEffect, useRef} from \"react\";\r\nimport Message from \"./Message\";\r\n\r\nexport default function MessageDisplay({messages, users}) {\r\n    const messagesEndRef = useRef(null)\r\n\r\n    const scrollToBottom = () => {\r\n        messagesEndRef.current.scrollIntoView({behavior: \"smooth\"})\r\n    }\r\n\r\n    useEffect(scrollToBottom, [messages]);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"Title\">\r\n                Messages:\r\n            </div>\r\n            <div className=\"MessageBox\">\r\n                {messages.map(message => <Message key={message.id + message.text + message.date}  {...message} />)}\r\n                <div ref={messagesEndRef}/>\r\n            </div>\r\n        </>\r\n    )\r\n}","import React from \"react\";\r\n\r\nconst OnlineUsers = ({users}) => {\r\n\r\n    return (\r\n        <div className='OnlineUsers'>\r\n            <div className=\"Title\">\r\n                Users:\r\n            </div>\r\n            <div>\r\n                {users.map(({name}) => (\r\n                    <div key={name}>\r\n                        {name}\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default OnlineUsers;","import React, {useEffect, useState} from \"react\";\r\nimport io from 'socket.io-client';\r\nimport Input from \"./Components/Input\";\r\nimport MessageDisplay from \"./Components/MessageDisplay\";\r\nimport OnlineUsers from \"./Components/OnlineUsers\";\r\nimport {useCookies} from \"react-cookie\";\r\nimport \"./App.css\"\r\n\r\nlet socket = io(\r\n    {\r\n        transports: ['websocket']\r\n    });\r\n\r\nconst App = () => {\r\n    const [users, setUsers] = useState([]);\r\n    const [message, setMessage] = useState(\"\");\r\n    const [messages, setMessages] = useState([]);\r\n    const [cookies, setCookie] = useCookies([\"nickname\"]);\r\n\r\n    useEffect(() => {\r\n        socket.emit(\"join\", cookies.nickname);\r\n\r\n        return () => {\r\n            socket.off(\"join\")\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        socket.on(\"getCached\", messages => {\r\n                setMessages(messages);\r\n            }\r\n        );\r\n\r\n        return () => {\r\n            socket.off(\"getCached\");\r\n        }\r\n    });\r\n\r\n    useEffect(() => {\r\n        socket.on(\"updateUser\", username => {\r\n            setCookie(\"nickname\", username)\r\n        })\r\n        return () => {\r\n            socket.off(\"updateUser\")\r\n        }\r\n    }, [setCookie]);\r\n\r\n\r\n    useEffect(() => {\r\n        socket.on(\"users\", users => {\r\n            setUsers(users);\r\n        });\r\n        return () => {\r\n            socket.off(\"users\")\r\n        }\r\n    });\r\n\r\n\r\n    useEffect(() => {\r\n        socket.on(\"getMsg\", message => {\r\n            //FUNCTIONAL UPDATE VERY IMPORTANT\r\n            message.user = true\r\n            message.color =\r\n                setMessages([...messages, message])\r\n        });\r\n        return () => {\r\n            socket.off(\"getMsg\")\r\n        }\r\n    });\r\n\r\n\r\n    const sendMessage = event => {\r\n        if (message !== \"\") {\r\n            event.preventDefault()\r\n            socket.emit(\"sendMsg\", message);\r\n            setMessage(\"\")\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            <div className=\"Apptitle\">Daniel's Chat App ðŸ“ƒ</div>\r\n            <div className=\"break\"/>\r\n            <div className=\"ChatGrid\">\r\n                <div className=\"ChatComponents\">\r\n                    <MessageDisplay messages={messages} users={users}/>\r\n                    <Input message={message} sendMessage={sendMessage} setMessage={setMessage}/>\r\n                </div>\r\n                <OnlineUsers users={users}/>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\n    if (onPerfEntry && onPerfEntry instanceof Function) {\n        import('web-vitals').then(({getCLS, getFID, getFCP, getLCP, getTTFB}) => {\n            getCLS(onPerfEntry);\n            getFID(onPerfEntry);\n            getFCP(onPerfEntry);\n            getLCP(onPerfEntry);\n            getTTFB(onPerfEntry);\n        });\n    }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App/>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}