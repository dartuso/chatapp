(this.webpackJsonpchatclient=this.webpackJsonpchatclient||[]).push([[0],{48:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){"use strict";n.r(t);var s=n(0),c=n(1),a=n.n(c),i=n(38),r=n.n(i),o=(n(48),n(40)),u=n(6),j=n(39),f=n.n(j);n(81);function l(e){var t=e.setMessage,n=e.sendMessage,c=e.message;return Object(s.jsxs)("form",{className:"formBox",children:[Object(s.jsx)("input",{className:"inputBox",type:"text",placeholder:"Type here to chat",value:c,onKeyPress:function(e){return"Enter"===e.key?n(e):null},onChange:function(e){var n=e.target.value;return t(n)}}),Object(s.jsx)("button",{className:"sendButton",onClick:function(e){return n(e)},children:"SEND"})]})}var b=n(41),d=n(85),O=(n(82),function(e){var t=e.name,n=e.text,c=e.color,a=e.date,i=Object(d.a)(["nickname"]),r=!1;return t===Object(u.a)(i,1)[0].nickname&&(r=!0),"string"!==typeof t&&(t="ERROR"),"string"!==typeof n&&(n="ERROR"),"string"!==typeof a&&(a="ERROR"),Object(s.jsxs)("div",{className:"message",children:[Object(s.jsx)("div",{className:"time",children:a}),Object(s.jsx)("div",{className:"user",style:{color:c},children:t+":"}),Object(s.jsx)("div",{className:"text",style:r?{fontWeight:"bold"}:{fontWeight:"normal"},children:n})]})});function m(e){var t=e.messages,n=(e.users,Object(c.useRef)(null));return Object(c.useEffect)((function(){n.current.scrollIntoView({behavior:"smooth"})}),[t]),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"Title",children:"Messages:"}),Object(s.jsxs)("div",{className:"MessageBox",children:[t.map((function(e){return Object(s.jsx)(O,Object(b.a)({},e),e.id+e.text+e.date)})),Object(s.jsx)("div",{ref:n})]})]})}var h=function(e){var t=e.users;return Object(s.jsxs)("div",{className:"OnlineUsers",children:[Object(s.jsx)("div",{className:"Title",children:"Users:"}),Object(s.jsx)("div",{children:t.map((function(e){var t=e.name;return Object(s.jsx)("div",{children:t},t)}))})]})},x=(n(83),f()("localhost:4001",{transports:["websocket"]})),g=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(""),r=Object(u.a)(i,2),j=r[0],f=r[1],b=Object(c.useState)([]),O=Object(u.a)(b,2),g=O[0],v=O[1],p=Object(d.a)(["nickname"]),N=Object(u.a)(p,2),E=N[0],k=N[1];Object(c.useEffect)((function(){return x.emit("join",E.nickname),function(){x.off("join")}}),[]),Object(c.useEffect)((function(){return x.on("getCached",(function(e){v(e)})),function(){x.off("getCached")}})),Object(c.useEffect)((function(){return x.on("updateUser",(function(e){k("nickname",e)})),function(){x.off("updateUser")}}),[k]),Object(c.useEffect)((function(){return x.on("users",(function(e){a(e)})),function(){x.off("users")}})),Object(c.useEffect)((function(){return x.on("getMsg",(function(e){e.user=!0,e.color=v([].concat(Object(o.a)(g),[e]))})),function(){x.off("getMsg")}}));return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)("div",{className:"Apptitle",children:"Daniel's Chat App \ud83d\udcc3"}),Object(s.jsx)("div",{className:"break"}),Object(s.jsxs)("div",{className:"ChatGrid",children:[Object(s.jsxs)("div",{className:"ChatComponents",children:[Object(s.jsx)(m,{messages:g,users:n}),Object(s.jsx)(l,{message:j,sendMessage:function(e){""!==j&&(e.preventDefault(),x.emit("sendMsg",j),f(""))},setMessage:f})]}),Object(s.jsx)(h,{users:n})]})]})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,86)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),s(e),c(e),a(e),i(e)}))};r.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(g,{})}),document.getElementById("root")),v()}},[[84,1,2]]]);
//# sourceMappingURL=main.0049126a.chunk.js.map